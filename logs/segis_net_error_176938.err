Using TensorFlow backend.
/home/groups/dlmrimnd/jacob/miniconda3/envs/segisnet_env/lib/python3.6/importlib/_bootstrap.py:219: RuntimeWarning: compiletime version 3.5 of module 'tensorflow.python.framework.fast_tensor_util' does not match runtime version 3.6
  return f(*args, **kwds)
Traceback (most recent call last):
  File "/home/groups/dlmrimnd/jacob/projects/Segis-Net/code/Segis-Net/Train_SegisNet.py", line 149, in <module>
    indexing='ij',alpha=a)
  File "/home/groups/dlmrimnd/jacob/projects/Segis-Net/code/Segis-Net/SegisNet_model_dataGenerator.py", line 101, in joint_model
    reg_model = reg_net(img_xyz, alpha=alpha)
  File "/home/groups/dlmrimnd/jacob/projects/Segis-Net/code/Segis-Net/RegNet_model_regGener.py", line 114, in reg_net
    y = SpatialTransformer(interp_method='linear', indexing='ij', name='movedFA')([src, nonr_def])
  File "/home/groups/dlmrimnd/jacob/miniconda3/envs/segisnet_env/lib/python3.6/site-packages/keras/engine/base_layer.py", line 460, in __call__
    output = self.call(inputs, **kwargs)
  File "/home/groups/dlmrimnd/jacob/projects/Segis-Net/code/Segis-Net/Transform_layer_interpn_0.py", line 128, in call
    return tf.map_fn(self._single_transform, [vol, trf], dtype=tf.float32)
  File "/home/groups/dlmrimnd/jacob/miniconda3/envs/segisnet_env/lib/python3.6/site-packages/tensorflow/python/ops/functional_ops.py", line 389, in map_fn
    swap_memory=swap_memory)
  File "/home/groups/dlmrimnd/jacob/miniconda3/envs/segisnet_env/lib/python3.6/site-packages/tensorflow/python/ops/control_flow_ops.py", line 2816, in while_loop
    result = loop_context.BuildLoop(cond, body, loop_vars, shape_invariants)
  File "/home/groups/dlmrimnd/jacob/miniconda3/envs/segisnet_env/lib/python3.6/site-packages/tensorflow/python/ops/control_flow_ops.py", line 2640, in BuildLoop
    pred, body, original_loop_vars, loop_vars, shape_invariants)
  File "/home/groups/dlmrimnd/jacob/miniconda3/envs/segisnet_env/lib/python3.6/site-packages/tensorflow/python/ops/control_flow_ops.py", line 2590, in _BuildLoop
    body_result = body(*packed_vars_for_body)
  File "/home/groups/dlmrimnd/jacob/miniconda3/envs/segisnet_env/lib/python3.6/site-packages/tensorflow/python/ops/functional_ops.py", line 379, in compute
    packed_fn_values = fn(packed_values)
  File "/home/groups/dlmrimnd/jacob/projects/Segis-Net/code/Segis-Net/Transform_layer_interpn_0.py", line 146, in _single_transform
    return transform(vol, trf, interp_method=self.interp_method)
  File "/home/groups/dlmrimnd/jacob/projects/Segis-Net/code/Segis-Net/Transform_layer_interpn_0.py", line 465, in transform
    return interpn(vol, loc, interp_method=interp_method)    
  File "/home/groups/dlmrimnd/jacob/projects/Segis-Net/code/Segis-Net/Transform_layer_interpn_0.py", line 221, in interpn
    subs = [locs[c[d]][d] for d in range(nb_dims)]
  File "/home/groups/dlmrimnd/jacob/projects/Segis-Net/code/Segis-Net/Transform_layer_interpn_0.py", line 221, in <listcomp>
    subs = [locs[c[d]][d] for d in range(nb_dims)]
NameError: name 'locs' is not defined
